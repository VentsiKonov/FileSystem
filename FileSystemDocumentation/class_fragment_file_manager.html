<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>FileSystem: FragmentFileManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">FileSystem
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_fragment_file_manager.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_fragment_file_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">FragmentFileManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_fragment_file_manager_8h_source.html">FragmentFileManager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a459cabf422219c371dcc0b8abe677b21"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fragment_file_manager.html#a459cabf422219c371dcc0b8abe677b21">FragmentFileManager</a> (std::string fileName)</td></tr>
<tr class="separator:a459cabf422219c371dcc0b8abe677b21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ce4ab20aa62df3b1cbb6692f97b4c37"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fragment_file_manager.html#a2ce4ab20aa62df3b1cbb6692f97b4c37">~FragmentFileManager</a> ()</td></tr>
<tr class="separator:a2ce4ab20aa62df3b1cbb6692f97b4c37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68a20515560cfdb2e06fc4b61a604862"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_folder.html">Folder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fragment_file_manager.html#a68a20515560cfdb2e06fc4b61a604862">loadRoot</a> ()</td></tr>
<tr class="memdesc:a68a20515560cfdb2e06fc4b61a604862"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the file structure found in the file.  <a href="#a68a20515560cfdb2e06fc4b61a604862">More...</a><br /></td></tr>
<tr class="separator:a68a20515560cfdb2e06fc4b61a604862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fa85167763575aa2beb762c9410f1b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fragment_file_manager.html#a5fa85167763575aa2beb762c9410f1b7">deleteFragments</a> (size_t id, size_t startPos, size_t fragmentsCount)</td></tr>
<tr class="memdesc:a5fa85167763575aa2beb762c9410f1b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks all fragments of given file empty and susceptible to overwrite.  <a href="#a5fa85167763575aa2beb762c9410f1b7">More...</a><br /></td></tr>
<tr class="separator:a5fa85167763575aa2beb762c9410f1b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f044845661764cbbb33f0c5a4816d9e"><td class="memItemLeft" align="right" valign="top">std::pair&lt; size_t, size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fragment_file_manager.html#a1f044845661764cbbb33f0c5a4816d9e">copyFragments</a> (size_t id, size_t startPos, size_t fragmentsCount, size_t newID)</td></tr>
<tr class="memdesc:a1f044845661764cbbb33f0c5a4816d9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies all fragments of one file in order to make a copy of it with different ID.  <a href="#a1f044845661764cbbb33f0c5a4816d9e">More...</a><br /></td></tr>
<tr class="separator:a1f044845661764cbbb33f0c5a4816d9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e90be6c557bbaff8eea2a27eb14dfed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fragment_file_manager.html#a2e90be6c557bbaff8eea2a27eb14dfed">saveToDisk</a> (const <a class="el" href="class_folder.html">Folder</a> &amp;rootFolder)</td></tr>
<tr class="memdesc:a2e90be6c557bbaff8eea2a27eb14dfed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the current file structure to the disk.  <a href="#a2e90be6c557bbaff8eea2a27eb14dfed">More...</a><br /></td></tr>
<tr class="separator:a2e90be6c557bbaff8eea2a27eb14dfed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3313e6b1195c3e4948e5a5751d7413ca"><td class="memItemLeft" align="right" valign="top">std::pair&lt; size_t, size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fragment_file_manager.html#a3313e6b1195c3e4948e5a5751d7413ca">saveData</a> (const char *data, size_t dataSizeInBytes, size_t fileID, size_t fragmentsExisting)</td></tr>
<tr class="memdesc:a3313e6b1195c3e4948e5a5751d7413ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves data for specific file on an empty fragment or in the end of the file. Appending data always happens at the end of the file.  <a href="#a3313e6b1195c3e4948e5a5751d7413ca">More...</a><br /></td></tr>
<tr class="separator:a3313e6b1195c3e4948e5a5751d7413ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a052ff47727a4d86d40f641f1fafb703a"><td class="memItemLeft" align="right" valign="top">std::pair&lt; size_t, size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fragment_file_manager.html#a052ff47727a4d86d40f641f1fafb703a">importFile</a> (std::string filePath, size_t fileID)</td></tr>
<tr class="memdesc:a052ff47727a4d86d40f641f1fafb703a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens a file from the real file system and makes a copy of it in ours finding the leftmost available fragment.  <a href="#a052ff47727a4d86d40f641f1fafb703a">More...</a><br /></td></tr>
<tr class="separator:a052ff47727a4d86d40f641f1fafb703a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92157efb82a8c10868e667e0cc9fa8aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fragment_file_manager.html#a92157efb82a8c10868e667e0cc9fa8aa">exportFile</a> (size_t fileID, size_t firstBlockPos, size_t fragmentsCount, std::string realFSPath)</td></tr>
<tr class="memdesc:a92157efb82a8c10868e667e0cc9fa8aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes a copy of the file in the real filesystem. Starting from given position it skips the fragments of other files and appending to the real file only the ones for that file.  <a href="#a92157efb82a8c10868e667e0cc9fa8aa">More...</a><br /></td></tr>
<tr class="separator:a92157efb82a8c10868e667e0cc9fa8aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7de08114394f2ace82d77379a4fb1da4"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fragment_file_manager.html#a7de08114394f2ace82d77379a4fb1da4">getUid</a> ()</td></tr>
<tr class="memdesc:a7de08114394f2ace82d77379a4fb1da4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives a unique ID for a new file.  <a href="#a7de08114394f2ace82d77379a4fb1da4">More...</a><br /></td></tr>
<tr class="separator:a7de08114394f2ace82d77379a4fb1da4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2baa91c9a00d1686841db1efd9f431d9"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fragment_file_manager.html#a2baa91c9a00d1686841db1efd9f431d9">getFragmentSize</a> () const </td></tr>
<tr class="memdesc:a2baa91c9a00d1686841db1efd9f431d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives the current size of the fragments so it can be used in printing file's size information.  <a href="#a2baa91c9a00d1686841db1efd9f431d9">More...</a><br /></td></tr>
<tr class="separator:a2baa91c9a00d1686841db1efd9f431d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manages the file containing all file data and the file/folder structure of the filesystem. A fragments represents a piece of file's data. Each fragment contains the ID of the file to whom it belongs, a size_t variable for the size of valuable data in the fragment and the data itself.7 The fragments are kept in sorted order in the filesystem file so that data is not shuffled. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a459cabf422219c371dcc0b8abe677b21"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FragmentFileManager::FragmentFileManager </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>fileName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2ce4ab20aa62df3b1cbb6692f97b4c37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FragmentFileManager::~FragmentFileManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1f044845661764cbbb33f0c5a4816d9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; size_t, size_t &gt; FragmentFileManager::copyFragments </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>startPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>fragmentsCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>newID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies all fragments of one file in order to make a copy of it with different ID. </p>

</div>
</div>
<a class="anchor" id="a5fa85167763575aa2beb762c9410f1b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FragmentFileManager::deleteFragments </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>startPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>fragmentsCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks all fragments of given file empty and susceptible to overwrite. </p>

</div>
</div>
<a class="anchor" id="a92157efb82a8c10868e667e0cc9fa8aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FragmentFileManager::exportFile </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>fileID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>firstBlockPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>fragmentsCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>realFSPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Makes a copy of the file in the real filesystem. Starting from given position it skips the fragments of other files and appending to the real file only the ones for that file. </p>

</div>
</div>
<a class="anchor" id="a2baa91c9a00d1686841db1efd9f431d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t FragmentFileManager::getFragmentSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gives the current size of the fragments so it can be used in printing file's size information. </p>

</div>
</div>
<a class="anchor" id="a7de08114394f2ace82d77379a4fb1da4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t FragmentFileManager::getUid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gives a unique ID for a new file. </p>

</div>
</div>
<a class="anchor" id="a052ff47727a4d86d40f641f1fafb703a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; size_t, size_t &gt; FragmentFileManager::importFile </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>filePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>fileID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens a file from the real file system and makes a copy of it in ours finding the leftmost available fragment. </p>

</div>
</div>
<a class="anchor" id="a68a20515560cfdb2e06fc4b61a604862"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_folder.html">Folder</a> FragmentFileManager::loadRoot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads the file structure found in the file. </p>

</div>
</div>
<a class="anchor" id="a3313e6b1195c3e4948e5a5751d7413ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; size_t, size_t &gt; FragmentFileManager::saveData </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>dataSizeInBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>fileID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>fragmentsExisting</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves data for specific file on an empty fragment or in the end of the file. Appending data always happens at the end of the file. </p>

</div>
</div>
<a class="anchor" id="a2e90be6c557bbaff8eea2a27eb14dfed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FragmentFileManager::saveToDisk </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_folder.html">Folder</a> &amp;&#160;</td>
          <td class="paramname"><em>rootFolder</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves the current file structure to the disk. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>E:/GitHub/FileSystem/FileSystem/<a class="el" href="_fragment_file_manager_8h_source.html">FragmentFileManager.h</a></li>
<li>E:/GitHub/FileSystem/FileSystem/<a class="el" href="_fragment_file_manager_8cpp.html">FragmentFileManager.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_fragment_file_manager.html">FragmentFileManager</a></li>
    <li class="footer">Generated on Sat Feb 14 2015 17:31:23 for FileSystem by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
